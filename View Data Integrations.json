[
    {
        "ID": "5ef9b94fcc81e",
        "Name": "Report process get weekly product stats",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "Editable": true,
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"select \\n\\tp.process_name,\\n\\tpr.profile_name,\\n\\ts.table_name as table_name_hhh, \\n\\tsum(s.creation_count) as Created,\\n\\tsum(s.self_count) as Self,\\n\\tsum(s.dash_count) as Dash,\\n\\tsum(s.service_count) as Service,\\n\\tsum(s.forms_count) as Forms,\\n\\tmin(s.week_commencing) as From_date,\\n\\tdateadd(dd,7,max(s.week_commencing)) as To_date\\nfrom metadata_stat s \\n\\tinner join metadata_process p on s.table_name=p.process_tablename\\n\\tleft join metadata_profile pr on s.profile_id = pr.id\\n\\t\\nwhere s.week_commencing >= {daterangestart} \\nand s.week_commencing < {daterangeend}\\n\\ngroup by \\n\\tp.process_name,\\n\\tpr.profile_name,\\n\\ts.table_name\\norder by \\tp.process_name,\\n\\tpr.profile_name,\\n\\ts.table_name\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"5a53627a149ae\",\"LIM_name\":\"CBC LIM\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5a7acb84ab7cb",
        "Name": "Report process get monthly submission stats",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"exec stage_stats_for_box_chart {process_tablename},{daterangestart},{daterangeend},'{ \\\"type\\\": \\\"box\\\", \\\"name\\\": \\\"[[stagename]]\\\",\\\"text\\\": [[labels]], \\\"y\\\": [[datas]], \\\"boxpoints\\\": \\\"all\\\", \\\"jitter\\\": 0.3, \\\"pointpos\\\": -1.8, \\\"hoverinfo\\\": \\\"text+y\\\"}', {Email_Address}, {profileid}\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"3f07ecf4-0dfa-11e2-b0b9-12313b03ed59\",\"LIM_name\":\"LIM14\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5a993d324b636",
        "Name": "Data dump process list",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"exec reportprocesslist {user_email}\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"5a53627a149ae\",\"LIM_name\":\"CBC LIM\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5aa8f60a99314",
        "Name": "Data dump get data",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"exec reportdata {process_tablename}, {daterangestart}, {daterangeend}, {Email_Address}, {profileid}\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5aa961311f228",
        "Name": "Data dump admin process list",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"select \\n  process_name as display,\\n  process_tablename as name\\t\\nfrom metadata_process order by process_name\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5aa9628323898",
        "Name": "Data Dump Admin list table columns",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"select column_name as display, column_name as name from information_schema.columns where table_name={process} order by ordinal_position\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5aa968f16c277",
        "Name": "Data dump admin save",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "integration-lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"if coalesce({profile},'')=''\\n\\tinsert into metadata_profile(profile_name,table_name, user_emails, user_groups, display_cols, hide_cols, where_column, where_values, map, lat_field, lng_field, location_field, map_icon_field, map_icon_template,filter_cols,retention_days,b_view)\\n\\tvalues ({profile_name},{process},coalesce({user_emails},''),coalesce({user_groups},''),coalesce({display_cols},''),coalesce({hide_cols},''),coalesce({where_column},''),coalesce({where_values},''),{map}, {lat_field}, {lng_field}, {location_field}, {map_icon_field}, {map_icon_template},coalesce({filter_cols},''),{retention_days},{b_view});\\n\\nif coalesce({delete},'no')='yes'\\n\\tdelete from metadata_profile where id={profile};\\n\\nupdate metadata_profile set\\n\\tdisplay_cols=coalesce({display_cols},''),\\n\\thide_cols=coalesce({hide_cols},''),\\n\\tuser_emails=coalesce({user_emails},''),\\n\\tuser_groups=coalesce({user_groups},''),\\n\\twhere_column=coalesce({where_column},''),\\n\\twhere_values=coalesce({where_values},''),\\n\\tprofile_name={profile_name},\\n\\tmap={map},\\n\\tlat_field={lat_field},\\n\\tlng_field={lng_field},\\n\\tlocation_field={location_field},\\n\\tmap_icon_field={map_icon_field},\\n\\tmap_icon_template={map_icon_template},\\n\\tfilter_cols={filter_cols},\\n\\tretention_days={retention_days},\\n\\tb_view={b_view}\\nwhere id={profile};\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5ad6d991e80c0",
        "Name": "Data Dump Admin List Dimensions",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"select field_name as name, field_name as display from metadata_dimension where table_name = {process} or table_name={process_tablename}  order by 1\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5ad6d9fc49017",
        "Name": "data dump admin list dimension values",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"exec reportlist {process}, {where_column}\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5ad6dd8813abd",
        "Name": "data dump admin - profile list",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"select \\n  id as name,\\n  case \\n    when profile_name<>'' and profile_name is not null then profile_name \\n    when user_emails='' then 'all users' \\n    else user_emails end as display, \\n  * \\n  from metadata_profile where table_name={process}\\n  order by user_emails\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"5a53627a149ae\",\"LIM_name\":\"CBC LIM\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5ad71db9e1e71",
        "Name": "Data dump list dataviewer users",
        "Type": "PERMISSION",
        "LIM_id": "3f07ecf4-0dfa-11e2-b0b9-12313b03ed59",
        "LIM_name": "LIM14",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"permission_action\":\"list_users_in_groups\",\"user_groups\":\"USERGROUP-d55b3f16-4309-4307-8c5e-059d52d64c1e\",\"group_by_token\":\"\",\"secure_fields_db_permission\":\"\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"3f07ecf4-0dfa-11e2-b0b9-12313b03ed59\",\"LIM_name\":\"LIM14\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5ad720bf06070",
        "Name": "data dump check superuser",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"select 'yes' as is_superuser from metadata_superuser where email={user_email}\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5b754e869c292",
        "Name": "data dump admin - retention list",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"select * from metadata_retention_log where profile_id={profile} order by action_date desc\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5bd72a50d3975",
        "Name": "Report process get weekly submission stats",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"exec process_get_weekly_stats {process_tablename},{daterangestart},{daterangeend}, {Email_Address}, {profileid}\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"3f07ecf4-0dfa-11e2-b0b9-12313b03ed59\",\"LIM_name\":\"LIM14\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5c2e2882a6096",
        "Name": "Report process get daily submission stats breakdown",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"exec process_get_submission_data_breakdown {process_tablename},{daterangestart},{daterangeend}, {user_email}, {profileid}, {breakdown}\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"3f07ecf4-0dfa-11e2-b0b9-12313b03ed59\",\"LIM_name\":\"LIM14\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5c2f42fa67d22",
        "Name": "Report process get daily submission stats pie",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"exec process_get_submission_data_summary {process_tablename},{daterangestart},{daterangeend}, {user_email}, {profileid}, {breakdown}\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5d2c8a94e3595",
        "Name": "Report process get quarter stats",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"declare @d date\\nset @d = getdate() -- '01 mar 2019'\\ndeclare @q1 varchar(7)\\nset @q1 = case when {quarter}<>'' and {quarter}<>'<br>' then {quarter} when datepart(qq,@d)=1 then concat(datepart(yy,@d)-1,' Q4') else concat(datepart(yy,@d),' Q',datepart(qq,@d)-1) end\\n\\nselect \\n\\tq1.quarter,\\n\\tp.process_name,\\n\\tpr.profile_name,\\n\\tq1.table_name as table_name_hhh, \\n\\tq1.created,\\n\\tq1.created-q0.created as created_delta,\\n\\tq1.self,\\n\\tq1.self-q0.self as self_delta,\\n\\tq1.dash,\\n\\tq1.dash-q0.dash as dash_delta,\\n\\tq1.service,\\n\\tq1.service-q0.service as service_delta,\\n\\tq1.forms,\\n\\tq1.forms-q0.forms as forms_delta\\n--,q0.*\\nfrom v_metadata_stat_quarter q1 \\n\\tinner join metadata_process p on q1.table_name=p.process_tablename\\n\\tleft join metadata_profile pr on q1.profile_id = pr.id\\n\\tleft join v_metadata_stat_quarter q0 \\n\\ton q0.quarter=dbo.prevquarter(@q1) and q1.table_name=q0.table_name and coalesce(q1.profile_id,0)=coalesce(q0.profile_id,0)\\n\\nwhere q1.quarter=@q1 \\norder by q1.CREATED desc\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"5a53627a149ae\",\"LIM_name\":\"CBC LIM\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5d2d93796eb7b",
        "Name": "Data dump list quarters",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"select quarter as name, concat(quarter,' (',aa,' - ', bb,')') as display from (\\nselect concat(datepart(yy,week_commencing),' Q',datepart(qq,week_commencing)) as quarter,\\n\\tmin(week_commencing)as aa , dateadd(dd,6,max(week_commencing)) as bb from  metadata_stat group by concat(datepart(yy,week_commencing),' Q',datepart(qq,week_commencing)) ) as fred\\n\\n\\torder by 1 desc\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"5a53627a149ae\",\"LIM_name\":\"CBC LIM\",\"recipients_to\":\"\"}"
    },
    {
        "Editable": true,
        "ID": "5b03f4af4eac9",
        "Name": "List AD-AF* Groups",
        "Type": "DATABASE",
        "LIM_id": "5a53627a149ae",
        "LIM_name": "CBC LIM",
        "Category": "Data Dump",
        "data_type": "lookup",
        "allow_offline": 0,
        "Output_template": "{\"systemID\":\"5963774f652ab\",\"systemName\":\"af-data-dump\",\"query\":\"exec getADgroups\",\"results_page_columns_db\":\"\",\"secure_fields_db_database\":\"\",\"escapeTokens\":\"yes\"}",
        "log_only_on_error": 0,
        "error_notification": "{\"LIM_id\":\"276203df-4bee-11e5-ad20-22000a7a05f5\",\"LIM_name\":\"Crawley Borough Council\",\"recipients_to\":\"\"}"
    }
]
